var alreadyBootedParams=null;window.AdMMTSDK&&(alreadyBootedParams=window.AdMMTSDK&&window.AdMMTSDK.length?window.AdMMTSDK[0]:null),window.AdMMTSDK={},function(e,d){var g="/ext/user/serve/ad",t="BANNER_IMAGE_TYPE_1",r="BANNER_IMAGE_TYPE_2",n="FULL_PAGE_OVERLAY_ADD_IN_CENTER",b={CUSTOM_TAG_NAME:"mmtad",AD_TYPE:{SCRIPT:"SCRIPT",IMAGE:"IMG",VIDEO:"VID"}},v={},y={};function f(e){for(var t,r=document.cookie.split("; "),n={},i=r.length-1;0<=i;i--)n[(t=r[i].split("="))[0]]=t[1];return n[e]}function s(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function i(e,t){var r=e.headers,n=e.body,i=(f("baseURL")?f("baseURL"):"https://adorch.makemytrip.com")+g,o=s();if(o){for(var a in o.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{var e=JSON.parse(this.responseText);t(null,e)}catch(e){console.log("backend response not recognised",e),t(e,null),d.onError&&"function"==typeof d.onError?d.onError():console.log("onError is not a function...")}else d.onError&&"function"==typeof d.onError?d.onError():console.log("Error ",this.status)},o.open("POST",i,!0),o.withCredentials=!0,r)r.hasOwnProperty(a)&&o.setRequestHeader(a,r[a]);o.send(JSON.stringify(n))}else console.log("calling api not allowed")}function w(e,t){var r=document.createElement(e),n=t&&t.styles;if(n)for(var i in n)n.hasOwnProperty(i)&&(r.style[i]=n[i]);return r}function o(e){if(e.hasAttributes())switch(function(e){if(e.hasAttributes())return e.hasAttribute("id")&&e.hasAttribute("lob")&&e.hasAttribute("pageName")&&e.hasAttribute("section")?"FirstType":e.hasAttribute("data-id")&&e.hasAttribute("data-lob")&&e.hasAttribute("data-pageName")&&e.hasAttribute("data-section")?"SecondType":e.hasAttribute("data-cid")?"ThirdType":"None"}(e)){case"FirstType":return v[e.getAttribute("id")]="id",{id:e.getAttribute("id"),lob:e.getAttribute("lob"),pageName:e.getAttribute("pageName"),section:e.getAttribute("section")};case"SecondType":return v[e.getAttribute("data-id")]="data-id",{id:e.getAttribute("data-id"),lob:e.getAttribute("data-lob"),pageName:e.getAttribute("data-pageName"),section:e.getAttribute("data-section")};case"ThirdType":return v[e.getAttribute("data-cid")]="data-cid",{contextId:e.getAttribute("data-cid")};default:console.log("Ad does not contain required attributes")}}function a(e,t){e&&e.redirect_url&&(e.target&&"_blank"===e.target?(t.location.href=e.redirect_url,t.focus()):window.location.href=e.redirect_url)}function A(e,n){var t,i,r,o;n&&n.apiRes&&n.apiRes.jsonAd&&n.apiRes.jsonAd.tracking_node&&((t=n.apiRes.jsonAd)&&t.target&&"_blank"===t.target&&(i=window.open()),o=(r=n.apiRes.jsonAd.tracking_node).click_url,r.click_tracking_reqd?u(o,n.id,n,function(e,t,r){d.userClickHandlerForClick&&"function"==typeof d.userClickHandlerForClick&&d.userClickHandlerForClick(e,t,r),a(n.apiRes.jsonAd,i)}):a(n.apiRes.jsonAd,i))}function _(t){var e=t.outerStyle,r=t.imageStyle,n=t.buttonStyle,i=t.headerStyleOuter||{position:"absolute",top:10,left:10},o=t.buttonText,a=t.header||null,d=t.subHeader||null,s=t.id,l=t.imageUrl,u=t.alt,c=w("div",{styles:e});c.setAttribute("id",s);var p=w("img",{styles:r});p.src=l,p.alt=u;var g,h,m,b,v,y=null;return o&&((y=w("button",{styles:n})).textContent=o),c.appendChild(p),a&&(g=w("div",{styles:i}),h=w("p",{styles:t.headerTextStyles}),m=document.createTextNode(a),h.appendChild(m),g.appendChild(h),d&&(b=w("p",{styles:t.subHeaderTextStyles}),v=document.createTextNode(d),b.appendChild(v),g.appendChild(b)),c.appendChild(g)),y&&c.appendChild(y),c.addEventListener?y?y.addEventListener("click",function(e){A(0,t)},!1):c.addEventListener("click",function(e){A(0,t)},!1):c.attachEvent&&(y?y.attachEvent("onClick",function(e){A(0,t)}):c.attachEvent("onClick",function(e){A(0,t)})),c}function l(n,i){var o=null,a=null;return function(){var e=this,t=arguments,r=(new Date).getMilliseconds();a&&r-a<i?(clearTimeout(o),a=r,o=setTimeout(function(){n.apply(e,t)},i)):(clearTimeout(o),n.apply(e,t),a=r)}}var k=l(function(){for(var e in y){var t,r,n,i=document.querySelector('[id="'+e+'"]').getBoundingClientRect();0<=i.top&&i.bottom<=window.innerHeight&&((t=y[e])&&((r=t.jsonAd.tracking_node).view_tracking_reqd?(n=r.view_url)&&u(n,e,t,d.userCallbackForView):d&&d.userCallbackForView&&"function"==typeof d.userCallbackForView&&d.userCallbackForView(null,e,t),r.view_tracking_reqd=!1))}},1e3),S=l(function(e){e.forEach(function(e){var t,r,n=e.target.getAttribute("id"),i=y[n];i&&((t=i.jsonAd.tracking_node).view_tracking_reqd&&e.isIntersecting?(r=t.view_url)&&u(r,n,i,function(e,t,r){d&&d.userCallbackForView&&"function"==typeof d.userCallbackForView&&d.userCallbackForView(e,t,r)}):e.isIntersecting&&d&&d.userCallbackForView&&"function"==typeof d.userCallbackForView&&d.userCallbackForView(null,n,i),e.isIntersecting&&(t.view_tracking_reqd=!1))})});function u(e,t,r,n){var i=s();i?(i.onreadystatechange=function(){4===this.readyState&&200===this.status&&n&&n(null,t,r)},i.open("GET",e,!0),i.withCredentials=!0,i.send()):console.log("api calling is not allowed")}e.init=function(h){var e,t,m;h&&(b.ORG=h.ORG||"mmt",b.AUTH_COOKIE_KEY=h.AUTH_COOKIE_KEY||"mmt-auth",e=document.getElementsByTagName(b.CUSTOM_TAG_NAME),t=function(e){switch(e){case g:var t,r={};t in window?(t=window.navigator,r.OS=t.platform,r.version=t.appVersion,r.language=t.language):(r.OS="",r.version="",r.language="");var n=/\((.*)\)/.exec((new Date).toString())[1],i=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.userAgent.substr(0,4)))&&(i=!0);var o=f(b.AUTH_COOKIE_KEY),a=o||"",d=f("myBusinessSubscription"),s=d&&"b2c"===d?"PERSONAL":d&&"b2b"===d?"BUSINESS":null,l=i?"MOBILE":"DESKTOP",u=f("dvid"),c=u||"",p=f("_adServer_user_ad_id")?f("_adServer_user_ad_id"):null,s=s?'"'+s+'"':null;return{Authorization:"DFjgkXbgFGBvebc","Content-Type":"application/json",Accept:"application/json",org:b.ORG,region:f("ccde"),language:r.language,usradid:p,"user-identifier":'{"type": "auth" ,"deviceId" : "'+c+'", "os":"'+l+'", "osVersion":"'+r.OS+'", "appVersion":"'+r.version+'", "imie":"imie", "ipAddress":"ipAddress", "timeZone":"'+n+'", "value":"'+a+'", "profileType":'+s+"}"};default:return null}}(g),function(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}(m=function(e){var t,r,n={};for(var i in e){!e.hasOwnProperty(i)||(t=e[i]).hasAttributes()&&(r=o(t),n&&("id"in r?n[r.id]=r:"contextId"in r&&(n[r.contextId]=r)))}return n}(e))||i({headers:t,body:function(e,t){switch(e){case g:var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push(t[n]);return{placementContextList:r};default:return null}}(g,m)},function(e,t){if(!e&&t.success&&t.data){!function(e){if(e&&!window.addCookie){var t=e.usradid;document.cookie="_mmtAdServer_user_ad_id="+t;var r,n,i,o=e.sisterOrgConfig;if(o)for(var a in o){!o.hasOwnProperty(a)||(r=o[a])&&(n=r.tinyImageUrl,(i=w("img",{style:{height:"0.001px",width:"0.001px"}})).src=n+"?_adServer_user_ad_id="+t,document.getElementsByTagName("body")[0].appendChild(i),window.addCookie=!0)}}}(t);var r=t.data;if(r){for(var n in m)if(m.hasOwnProperty(n)&&n in r){var i=r[n];if("error"in i)console.log("error from ad platform",r.error);else{var o=i.jsonAd.ad_type,a=null,d=null,s=document.querySelector(b.CUSTOM_TAG_NAME+"["+v[n]+'="'+n+'"]'),l=null;switch(o){case b.AD_TYPE.SCRIPT:a=function(e){var t=w("div");t.setAttribute("id",e.id);var r=document.createRange().createContextualFragment(e.html);return t.appendChild(r),t}(l={html:i.jsonAd.body,id:n});break;case b.AD_TYPE.IMAGE:if(i&&i.jsonAd&&i.jsonAd.adMeta){var u,c=(d=i.jsonAd.adMeta).ctaButtonBackgroudGradient,p=null;if(d.outerStyle){for(var n in d.outerStyle)d.outerStyle.hasOwnProperty(n)&&(u[n]=d.outerStyle[n]);u.cursor=i.jsonAd.redirect_url&&""!==i.jsonAd.redirect_url?"pointer":"default"}else u={width:"100%",height:i.jsonAd.height+"px",position:"relative",cursor:i.jsonAd.redirect_url&&""!==i.jsonAd.redirect_url?"pointer":"default"};if(d.buttonStyle){for(var n in d.buttonStyle)d.buttonStyle.hasOwnProperty(n)&&(p[n]=d.buttonStyle[n]);p.cursor=i.jsonAd.redirect_url&&""!==i.jsonAd.redirect_url?"pointer":"default"}else p=c&&c.length&&1<c.length?{position:"absolute",bottom:"5",right:"5","background-image":"linear-gradient(to right,"+c[0]+","+c[1]+")",color:d.textColor?d.textColor:"#000000",padding:"10","border-radius":"10px",cursor:"pointer"}:{position:"absolute",bottom:"5",right:"5",color:d.textColor?d.textColor:"#000000",padding:"10","border-radius":"10px",cursor:"pointer"};l={outerStyle:u,imageStyle:d.imageStyle?d.imageStyle:{width:"100%",height:"100%","border-radius":"12px"},buttonStyle:p,headerStyleOuter:d.headerStyleOuter?d.headerStyleOuter:null,buttonText:d.ctaText,header:d.heading,headerTextStyles:d.headerTextStyles?d.headerTextStyles:{color:d.textColor?d.textColor:"#000000"},subHeader:d.text,subHeaderTextStyles:d.subHeaderTextStyles?d.subHeaderTextStyles:{color:d.textColor?d.textColor:"#000000"},id:n,imageUrl:i.jsonAd.content_url,alt:i.jsonAd.alt_text}}else l={outerStyle:{width:"100%",height:i.jsonAd.height+"px",cursor:i.jsonAd.redirect_url&&""!==i.jsonAd.redirect_url?"pointer":"default"},imageStyle:{width:"100%",height:"100%","border-radius":"12px"},buttonStyle:{cursor:"pointer"},headerStyleOuter:null,buttonText:null,header:null,headerTextStyles:null,subHeader:null,subHeaderTextStyles:null,id:n,imageUrl:i.jsonAd.content_url,alt:i.jsonAd.alt_text};l.apiRes=i,a=_(l);break;case b.AD_TYPE.VIDEO:if(i&&i.jsonAd&&i.jsonAd.adMeta)l={videoStyles:(d=i.jsonAd.adMeta).videoStyles,videoUrl:i.jsonAd.content_url,id:n};else{var g="100%";try{g=s.parentNode.parentElement.clientWidth*i.jsonAd.height/i.jsonAd.width}catch(e){}l={videoStyles:{width:"100%",height:g,"border-radius":"12px"},videoUrl:i.jsonAd.content_url,id:n}}l.apiRes=i,a=function(t){var e,r=w("div");return!!document.createElement("video").canPlayType&&!!document.createElement("video").canPlayType("video/mp4")?((e=w("video",{styles:t.videoStyles})).src=t.videoUrl,e.autoplay=!0,e.muted=!0,r.appendChild(e),r.addEventListener?r.addEventListener("click",function(e){A(0,t)},!1):r.attachEvent&&r.attachEvent("onClick",function(e){A(0,t)})):console.log("video is not supported on current browser"),r}(l);break;case b.AD_TYPE.OVERLAY:l={},a=void 0;break;default:(a=w("script")).innerHTML='console.log("this ad type is not supported by your version of SDK, get the latest version for full support")'}s.parentElement.replaceChild(a,s),i&&i.jsonAd&&i.jsonAd.tracking_reqd&&(y[n]=i)}}"IntersectionObserver"in window?function(e){var t=new IntersectionObserver(e,{root:null});for(var r in y)y.hasOwnProperty(r)&&t.observe(document.querySelector('[id="'+r+'"]'))}(S):window.addEventListener("scroll",k),h.onAdLoaded&&"function"==typeof h.onAdLoaded&&setTimeout(function(){h.onAdLoaded()},100)}}}))},e.getAdView=function(e){switch(e.templateType){case t:case r:return _(e);case n:default:return}},e.insertViewInDiv=function(e,t){},e.getAdDataJson=function(e,t){},d&&e.init(d)}(window.AdMMTSDK,alreadyBootedParams);